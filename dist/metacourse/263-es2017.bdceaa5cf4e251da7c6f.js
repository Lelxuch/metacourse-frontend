(self.webpackChunkmetacourse=self.webpackChunkmetacourse||[]).push([[263],{1263:function(e,t,o){"use strict";o.r(t),o.d(t,{TeachingModule:function(){return O}});var n=o(8583),s=o(5855),r=o(665),i=o(5562),l=o(639),d=o(7369);function a(e,t){if(1&e&&(l.TgZ(0,"div",6),l.TgZ(1,"div",7),l.TgZ(2,"h4"),l._uU(3),l.qZA(),l.qZA(),l.TgZ(4,"div",8),l._uU(5),l.qZA(),l.TgZ(6,"div",9),l.TgZ(7,"a",10),l._uU(8," Open "),l.qZA(),l.qZA(),l.qZA()),2&e){const e=t.$implicit;l.xp6(3),l.Oqu(e.title),l.xp6(2),l.hij(" ",e.description," "),l.xp6(2),l.MGl("routerLink","syllabus/",e.id,"")}}let c=(()=>{class e{constructor(e){this.teachingService=e}ngOnInit(){this.teachingService.getCourses().subscribe(e=>{this.courses=e},e=>{console.log(e)})}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(d.Q))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-default-page"]],decls:9,vars:1,consts:[[1,"container","teaching-inner"],[1,"teaching-content"],[1,"teaching-add-course"],["routerLink","new","routerLinkActive","active",1,"add-course-btn"],[1,"teaching-body"],["class","course-card",4,"ngFor","ngForOf"],[1,"course-card"],[1,"card-header"],[1,"card-body"],[1,"card-bottom"],["routerLinkActive","true",1,"card-button","primary-btn",3,"routerLink"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"h1"),l._uU(2,"Teaching"),l.qZA(),l.TgZ(3,"div",1),l.TgZ(4,"div",2),l.TgZ(5,"a",3),l._uU(6," Add course "),l.qZA(),l.qZA(),l.TgZ(7,"div",4),l.YNc(8,a,9,3,"div",5),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.xp6(8),l.Q6J("ngForOf",t.courses))},directives:[s.yS,s.Od,n.sg],styles:["button[_ngcontent-%COMP%]{font-size:1rem}.primary-btn[_ngcontent-%COMP%]{background:#9b17db;border:2px solid #9b17db;border-radius:7px;color:#fff;padding:10px 20px;cursor:pointer}.primary-btn[_ngcontent-%COMP%]:hover{background:#fff;border-color:#000;color:#000}.teaching-inner[_ngcontent-%COMP%]{padding:50px 0}.teaching-content[_ngcontent-%COMP%], .teaching-inner[_ngcontent-%COMP%]{display:flex;flex-direction:column}.teaching-add-course[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.teaching-body[_ngcontent-%COMP%]{padding:50px 0}.add-course-btn[_ngcontent-%COMP%]{background:#9b17db;border:2px solid #9b17db;border-radius:7px;color:#fff;padding:10px 20px}.course-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;width:100%;height:250px;padding:30px;box-shadow:0 2px 8px 0 rgba(99,99,99,.2);border-radius:7px;margin-bottom:30px}.card-bottom[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}"]}),e})();function u(e,t){if(1&e&&(l.TgZ(0,"option",18),l._uU(1),l.qZA()),2&e){const e=t.$implicit;l.Q6J("ngValue",e.name),l.xp6(1),l.Oqu(e.name)}}function g(e,t){if(1&e&&(l.ynx(0,14),l.TgZ(1,"select",15),l.TgZ(2,"option",16),l._uU(3,"Select category"),l.qZA(),l.YNc(4,u,2,2,"option",17),l.qZA(),l.BQk()),2&e){const e=t.index,o=l.oxw();l.Q6J("formGroupName",e),l.xp6(2),l.Q6J("ngValue",null),l.xp6(2),l.Q6J("ngForOf",o.categoriesData)}}let p=(()=>{class e{constructor(e,t,o){this.router=e,this.formBuilder=t,this.teachingService=o}ngOnInit(){this.form=this.formBuilder.group({name:[null],description:[null],duration:[null],categories:this.formBuilder.array([])}),this.teachingService.getCategories().subscribe(e=>{console.log("res",e),this.categoriesData=e},e=>{console.log("res",e)})}categories(){return this.form.get("categories")}newCategory(){return this.formBuilder.group({categoryName:null})}addCategory(){this.categories().push(this.newCategory())}submit(){let e=this.form.getRawValue();const t={title:null,description:null,duration:null,categories:[]};console.log(e.name),t.title=e.name,t.description=e.description,t.duration=e.duration;for(let o of e.categories)t.categories.push(o.categoryName);console.log(t),this.teachingService.createCourse(t).subscribe(e=>(console.log("res",e),this.router.navigateByUrl("/teaching")),e=>(console.log("err",e),200==e.status?this.router.navigateByUrl("/teaching"):null))}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(s.F0),l.Y36(r.qu),l.Y36(d.Q))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-new-course"]],decls:22,vars:2,consts:[[1,"container","new-course-outer"],[1,"form",3,"formGroup"],[1,"form-title"],[1,"form-group"],["formControlName","name","type","text","placeholder","Course name"],["formControlName","description","placeholder","Description"],["formControlName","duration","type","number","placeholder","Hours"],[1,"form-group","categories"],["formArrayName","categories"],[1,"categories-top"],[1,"primary-btn",3,"click"],[3,"formGroupName",4,"ngFor","ngForOf"],[1,"form-bottom"],[1,"submit-btn",3,"click"],[3,"formGroupName"],["formControlName","categoryName"],["selected","","disabled","",3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"form",1),l.TgZ(2,"div",2),l.TgZ(3,"h2"),l._uU(4,"New course"),l.qZA(),l.qZA(),l.TgZ(5,"div",3),l._UZ(6,"input",4),l.qZA(),l.TgZ(7,"div",3),l._UZ(8,"textarea",5),l.qZA(),l.TgZ(9,"div",3),l._UZ(10,"input",6),l.qZA(),l.TgZ(11,"div",7),l.ynx(12,8),l.TgZ(13,"div",9),l.TgZ(14,"h4"),l._uU(15,"Categories"),l.qZA(),l.TgZ(16,"button",10),l.NdJ("click",function(){return t.addCategory()}),l._uU(17,"Add category"),l.qZA(),l.qZA(),l.YNc(18,g,5,3,"ng-container",11),l.BQk(),l.qZA(),l.TgZ(19,"div",12),l.TgZ(20,"button",13),l.NdJ("click",function(){return t.submit()}),l._uU(21,"Create"),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.xp6(1),l.Q6J("formGroup",t.form),l.xp6(17),l.Q6J("ngForOf",t.categories().controls))},directives:[r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u,r.wV,r.CE,n.sg,r.x0,r.EJ,r.YN,r.Kr],styles:["button[_ngcontent-%COMP%]{font-size:1rem}.primary-btn[_ngcontent-%COMP%]{background:#9b17db;border:2px solid #9b17db;border-radius:7px;color:#fff;padding:10px 20px;cursor:pointer}.primary-btn[_ngcontent-%COMP%]:hover{background:#fff;border-color:#000;color:#000}.new-course-outer[_ngcontent-%COMP%]{display:flex;justify-content:center}.form[_ngcontent-%COMP%]{margin:100px 0;width:600px}.form-title[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-group[_ngcontent-%COMP%]:last-child{margin:0}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{border:1px solid #000;border-radius:7px;font-size:1.25rem;padding:10px 15px;outline-color:#9b17db;width:100%}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{height:200px;margin:0}.form-redirect[_ngcontent-%COMP%]{text-align:right}.form-redirect[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{z-index:1000}.form-redirect[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#9b17db}.form-bottom[_ngcontent-%COMP%]{margin-top:30px;text-align:center}.submit-btn[_ngcontent-%COMP%]{border:2px solid #9b17db;border-radius:10px;padding:10px 20px;text-transform:uppercase;font-size:1.25rem;transition:.05s linear;color:#fff;background:#9b17db}.submit-btn[_ngcontent-%COMP%]:hover{color:#000;border-color:#000;background:#fff;transform:scale(1.02)}.categories[_ngcontent-%COMP%]{padding:15px;border:1px solid #000;border-radius:7px}.categories[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{margin-top:20px}.categories-top[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}"]}),e})();function m(e,t){if(1&e&&(l.TgZ(0,"div",17),l.TgZ(1,"h5"),l.TgZ(2,"span",11),l._uU(3),l.qZA(),l.qZA(),l._UZ(4,"input",18),l.TgZ(5,"a",19),l._uU(6,"Edit lesson"),l.qZA(),l.qZA()),2&e){const e=t.index,o=l.oxw(),n=o.index,s=o.$implicit;l.Q6J("formGroupName",e),l.xp6(3),l.AsE(" ",n+1,".",e+1," "),l.xp6(2),l.hYB("routerLink","",s.value.id,"/",e+1,"")}}function h(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"div",9),l.TgZ(1,"div",10),l.TgZ(2,"h3"),l.TgZ(3,"span",11),l._uU(4),l.qZA(),l.qZA(),l._UZ(5,"input",12),l.qZA(),l.TgZ(6,"div",13),l.ynx(7,14),l.YNc(8,m,7,5,"div",15),l.BQk(),l.qZA(),l.TgZ(9,"div",16),l.TgZ(10,"button",3),l.NdJ("click",function(){const t=l.CHM(e),o=t.index,n=t.$implicit;return l.oxw().addLesson(o,n)}),l._uU(11,"Add lesson"),l.qZA(),l.qZA(),l.qZA()}if(2&e){const e=t.index,o=l.oxw();l.Q6J("formGroupName",e),l.xp6(4),l.hij(" ",e+1,". "),l.xp6(4),l.Q6J("ngForOf",o.moduleLessons(e).controls)}}let f=(()=>{class e{constructor(e,t,o){this.route=e,this.formBuilder=t,this.teachingService=o,this.modulesData=[]}ngOnInit(){this.routeSub=this.route.params.subscribe(e=>{this.courseId=e.id}),this.modulesForm=this.formBuilder.group({modules:this.formBuilder.array([])}),this.getModulesReset()}ngOnDestroy(){this.routeSub.unsubscribe()}getModules(){this.teachingService.getCourse(this.courseId).subscribe(e=>{this.courseData=e,this.modulesData=this.courseData.modules})}getModulesReset(){this.teachingService.getCourse(this.courseId).subscribe(e=>{this.courseData=e,this.modulesData=this.courseData.modules;for(let t=0;t<this.modulesData.length;++t)this.patchAddModule(this.modulesData[t]);for(let t=0;t<this.modulesData.length;++t)for(let e=0;e<this.modulesData[t].lessons.length;++e)this.patchAddLesson(t,this.modulesData[t].lessons[e])})}modules(){return this.modulesForm.get("modules")}newModule(){return this.formBuilder.group({moduleName:"",lessons:this.formBuilder.array([])})}addModule(){this.teachingService.createModule(this.courseId).subscribe(e=>{console.log(e)},e=>{200==e.status&&(console.log("Module Create successfully"),this.modules().push(this.newModule()),this.getModules())})}patchAddModule(e){let t=this.formBuilder.group({id:[null,r.kI.required],moduleName:["",r.kI.required],lessons:this.formBuilder.array([])});t.patchValue({id:e.id,moduleName:e.title,lessons:e.lessons}),this.modules().push(t)}removeModule(e){this.modules().removeAt(e)}moduleLessons(e){return this.modules().at(e).get("lessons")}newLesson(){return this.formBuilder.group({id:null,lessonName:""})}addLesson(e,t){this.teachingService.createLesson(this.modulesData[e].id).subscribe(e=>{console.log(e),this.getModulesReset()},t=>{200==t.status&&(console.log("Successfully"),this.moduleLessons(e).push(this.newLesson()))})}patchAddLesson(e,t){let o=this.formBuilder.group({lessonName:["",r.kI.required]});o.patchValue({lessonName:t.title}),this.moduleLessons(e).push(o)}removeLesson(e,t){this.moduleLessons(e).removeAt(t)}submit(){let e=this.modulesForm.getRawValue();for(let t=0;t<e.modules.length;++t){const o={title:e.modules[t].moduleName,duration:"90"};console.log(o),this.teachingService.editModule(this.modulesData[t].id,o).subscribe(e=>{console.log(e)},e=>{console.log(e)})}for(let t=0;t<e.modules.length;++t){let o=e.modules[t].lessons;for(let e=0;e<o.length;++e){let n=o[e];console.log(n);const s={title:n.lessonName,description:n.lessonName};console.log(s),this.teachingService.editLesson(this.modulesData[t].lessons[e].id,s).subscribe(e=>{console.log(e)},e=>{console.log(e)})}}}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(s.gz),l.Y36(r.qu),l.Y36(d.Q))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-edit-course"]],decls:15,vars:2,consts:[[1,"container","syllabus-outer"],[3,"formGroup"],[1,"teaching-add-module"],[1,"primary-btn",3,"click"],[1,"syllabus-body"],["formArrayName","modules"],["class","module",3,"formGroupName",4,"ngFor","ngForOf"],[1,"form-bottom"],["routerLink","/teaching",1,"primary-btn"],[1,"module",3,"formGroupName"],[1,"module-main"],[1,"gray-number"],["formControlName","moduleName","type","text","placeholder","Module name"],[1,"module-body"],["formArrayName","lessons"],["class","lesson",3,"formGroupName",4,"ngFor","ngForOf"],[1,"add-lessons"],[1,"lesson",3,"formGroupName"],["formControlName","lessonName","type","text","placeholder","Lesson name"],[1,"primary-btn","custom-edit-btn",3,"routerLink"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"h1"),l._uU(2,"Edit course"),l.qZA(),l.TgZ(3,"form",1),l.TgZ(4,"div",2),l.TgZ(5,"button",3),l.NdJ("click",function(){return t.addModule()}),l._uU(6,"Add module"),l.qZA(),l.qZA(),l.TgZ(7,"div",4),l.ynx(8,5),l.YNc(9,h,12,3,"div",6),l.BQk(),l.qZA(),l.TgZ(10,"div",7),l.TgZ(11,"a",8),l._uU(12,"Cancel"),l.qZA(),l.TgZ(13,"button",3),l.NdJ("click",function(){return t.submit()}),l._uU(14,"Save"),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.xp6(3),l.Q6J("formGroup",t.modulesForm),l.xp6(6),l.Q6J("ngForOf",t.modules().controls))},directives:[r._Y,r.JL,r.sg,r.CE,n.sg,s.yS,r.x0,r.Fj,r.JJ,r.u],styles:["button[_ngcontent-%COMP%]{font-size:1rem}.primary-btn[_ngcontent-%COMP%]{background:#9b17db;border:2px solid #9b17db;border-radius:7px;color:#fff;padding:10px 20px;cursor:pointer}.primary-btn[_ngcontent-%COMP%]:hover{background:#fff;border-color:#000;color:#000}input[_ngcontent-%COMP%]{border:1px solid #000;border-radius:10px;font-size:1.25rem;padding:10px 15px;outline-color:#9b17db;width:100%}.custom-edit-btn[_ngcontent-%COMP%]{white-space:nowrap;margin-left:30px}.syllabus-outer[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:50px 0}.syllabus-edit[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.syllabus-edit-btn[_ngcontent-%COMP%]{background:#9b17db;border:2px solid #9b17db;border-radius:7px;color:#fff;padding:10px 20px}.syllabus-body[_ngcontent-%COMP%]{display:flex;flex-direction:column}.teaching-add-module[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.module-main[_ngcontent-%COMP%]{display:flex;align-content:center;padding:30px;box-shadow:0 2px 8px 0 rgba(99,99,99,.2);border-radius:7px;margin-top:50px}.gray-number[_ngcontent-%COMP%]{color:#b3b3b3;margin-right:10px}.lesson[_ngcontent-%COMP%]{display:flex;align-content:center;padding:30px;box-shadow:0 2px 8px 0 rgba(99,99,99,.2);border-radius:7px;margin-left:30px;margin-top:10px;height:100%}.add-lessons[_ngcontent-%COMP%]{margin-top:30px}.add-lessons[_ngcontent-%COMP%], .form-bottom[_ngcontent-%COMP%]{display:flex;justify-content:center}.form-bottom[_ngcontent-%COMP%]{margin-top:50px}.form-bottom[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-right:20px}"]}),e})();function b(e,t){if(1&e&&(l.TgZ(0,"div",10),l.TgZ(1,"h5"),l.TgZ(2,"span",7),l._uU(3),l.qZA(),l._uU(4),l.qZA(),l.qZA()),2&e){const e=t.$implicit,o=t.index,n=l.oxw().index;l.xp6(3),l.AsE(" ",n+1,".",o+1," "),l.xp6(1),l.hij(" ",e.title," ")}}function x(e,t){if(1&e&&(l.TgZ(0,"div",5),l.TgZ(1,"div",6),l.TgZ(2,"h3"),l.TgZ(3,"span",7),l._uU(4),l.qZA(),l._uU(5),l.qZA(),l.qZA(),l.TgZ(6,"div",8),l.YNc(7,b,5,3,"div",9),l.qZA(),l.qZA()),2&e){const e=t.$implicit,o=t.index,n=l.oxw();l.xp6(4),l.hij(" ",o+1,". "),l.xp6(1),l.hij(" ",e.title," "),l.xp6(2),l.Q6J("ngForOf",n.modulesData[o].lessons)}}function Z(e,t){if(1&e&&(l.TgZ(0,"a",14),l._uU(1),l.qZA()),2&e){const e=t.$implicit,o=t.index,n=l.oxw().$implicit,s=l.oxw();l.cQ8("routerLink","/teaching/edit/",s.courseId,"/",n.id,"/",o+1,""),l.xp6(1),l.Oqu(e.title)}}function y(e,t){if(1&e&&(l.TgZ(0,"div",11),l.TgZ(1,"span",12),l._uU(2),l.qZA(),l.YNc(3,Z,2,4,"a",13),l.qZA()),2&e){const e=t.$implicit,o=t.index,n=l.oxw();l.xp6(2),l.Oqu(e.title),l.xp6(1),l.Q6J("ngForOf",n.modulesData[o].lessons)}}function _(e,t){if(1&e&&(l.TgZ(0,"div",15),l._UZ(1,"angular-editor",16),l.qZA()),2&e){const e=t.index,o=l.oxw();l.Q6J("formGroupName",e),l.xp6(1),l.Q6J("config",o.editorConfig)}}const C=[{path:"",component:c},{path:"new",component:p},{path:"syllabus/:id",component:(()=>{class e{constructor(e,t){this.route=e,this.teachingService=t}ngOnInit(){this.routeSub=this.route.params.subscribe(e=>{this.courseId=e.id}),this.teachingService.getCourse(this.courseId).subscribe(e=>{this.courseData=e,this.modulesData=this.courseData.modules},e=>{console.log("err",e)})}ngOnDestroy(){this.routeSub.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(s.gz),l.Y36(d.Q))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-syllabus-course"]],decls:8,vars:2,consts:[[1,"container","syllabus-outer"],[1,"syllabus-edit"],[1,"syllabus-edit-btn",3,"routerLink"],[1,"syllabus-body"],["class","module",4,"ngFor","ngForOf"],[1,"module"],[1,"module-main"],[1,"gray-number"],[1,"module-body"],["class","lesson",4,"ngFor","ngForOf"],[1,"lesson"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"h1"),l._uU(2,"Syllabus"),l.qZA(),l.TgZ(3,"div",1),l.TgZ(4,"a",2),l._uU(5," Edit "),l.qZA(),l.qZA(),l.TgZ(6,"div",3),l.YNc(7,x,8,3,"div",4),l.qZA(),l.qZA()),2&e&&(l.xp6(4),l.MGl("routerLink","/teaching/edit/",t.courseId,""),l.xp6(3),l.Q6J("ngForOf",t.modulesData))},directives:[s.yS,n.sg],styles:[".syllabus-outer[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:50px 0}.syllabus-edit[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.syllabus-edit-btn[_ngcontent-%COMP%]{background:#9b17db;border:2px solid #9b17db;border-radius:7px;color:#fff;padding:10px 20px}.syllabus-body[_ngcontent-%COMP%]{display:flex;flex-direction:column}.module-main[_ngcontent-%COMP%]{padding:30px;box-shadow:0 2px 8px 0 rgba(99,99,99,.2);border-radius:7px;margin-top:50px}.gray-number[_ngcontent-%COMP%]{color:#b3b3b3;margin-right:10px}.lesson[_ngcontent-%COMP%]{padding:30px;box-shadow:0 2px 8px 0 rgba(99,99,99,.2);border-radius:7px;margin-left:30px;margin-top:10px}"]}),e})()},{path:"edit/:id",component:f},{path:"edit/:idCourse/:idModule/:idLesson",component:(()=>{class e{constructor(e,t,o){this.route=e,this.formBuilder=t,this.teachingService=o,this.editorConfig={editable:!0,spellcheck:!0,height:"auto",minHeight:"0",maxHeight:"auto",width:"auto",minWidth:"0",translate:"yes",enableToolbar:!0,showToolbar:!0,placeholder:"Enter text here...",defaultParagraphSeparator:"",defaultFontName:"",defaultFontSize:"",customClasses:[{name:"quote",class:"quote"},{name:"redText",class:"redText"},{name:"titleText",class:"titleText",tag:"h1"}],uploadUrl:"v1/image",uploadWithCredentials:!1,sanitize:!0,toolbarPosition:"top",toolbarHiddenButtons:[["bold","italic"],["fontSize"]]}}ngOnInit(){this.routeSub=this.route.params.subscribe(e=>{this.courseId=e.idCourse,this.moduleId=e.idModule,this.lessonId=e.idLesson,this.teachingService.getCourse(this.courseId).subscribe(e=>{this.courseData=e,this.modulesData=this.courseData.modules,this.getLessonReset()},e=>{console.log(e)})}),this.form=this.formBuilder.group({texts:this.formBuilder.array([])})}ngOnDestroy(){this.routeSub.unsubscribe()}getLesson(){this.teachingService.getModule(this.moduleId).subscribe(e=>{this.lessonData=e.lessons[this.lessonId-1];for(let t=0;t<this.lessonData.texts.length;++t)this.addPatchText(this.lessonData.texts[t])})}getLessonReset(){for(;0!==this.texts().length;)this.texts().removeAt(0);this.teachingService.getModule(this.moduleId).subscribe(e=>{this.lessonData=e.lessons[this.lessonId-1];for(let t=0;t<this.lessonData.texts.length;++t)this.addPatchText(this.lessonData.texts[t])},e=>{console.log(e)})}texts(){return this.form.get("texts")}newText(){return this.formBuilder.group({heading:null,text:""})}addText(){this.teachingService.createText(this.lessonData.id).subscribe(e=>{console.log(e),this.getLesson(),this.texts().push(this.newText())},e=>{console.log(e),this.getLesson(),this.texts().push(this.newText())})}addPatchText(e){let t=this.formBuilder.group({id:null,heading:null,text:null});t.patchValue({id:e.id,heading:e.heading,text:e.text}),this.texts().push(t)}submit(){let e=this.form.getRawValue().texts;console.log(e);for(let t=0;t<e.length;++t)this.teachingService.putText(e[t]).subscribe(e=>{console.log(e)},e=>{console.log(e)})}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(s.gz),l.Y36(r.qu),l.Y36(d.Q))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-edit-lesson"]],decls:13,vars:3,consts:[[1,"container","edit-lesson-outer"],[1,"left-menu"],["class","module-block",4,"ngFor","ngForOf"],[1,"lesson-body"],[1,"steps-body"],[1,"primary-btn","top-btn",3,"click"],[3,"formGroup"],["formArrayName","texts"],["class","text-field",3,"formGroupName",4,"ngFor","ngForOf"],[1,"steps-bottom"],[1,"primary-btn",3,"click"],[1,"module-block"],["routerLinkActive","true",1,"module-link"],["routerLinkActive","true","class","lesson-link",3,"routerLink",4,"ngFor","ngForOf"],["routerLinkActive","true",1,"lesson-link",3,"routerLink"],[1,"text-field",3,"formGroupName"],["formControlName","text",3,"config"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l.YNc(2,y,4,2,"div",2),l.qZA(),l.TgZ(3,"div",3),l.TgZ(4,"div",4),l.TgZ(5,"button",5),l.NdJ("click",function(){return t.addText()}),l._uU(6,"Add text"),l.qZA(),l.TgZ(7,"form",6),l.TgZ(8,"div",7),l.YNc(9,_,2,2,"div",8),l.qZA(),l.qZA(),l.TgZ(10,"div",9),l.TgZ(11,"button",10),l.NdJ("click",function(){return t.submit()}),l._uU(12," Save "),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.xp6(2),l.Q6J("ngForOf",t.courseData.modules),l.xp6(5),l.Q6J("formGroup",t.form),l.xp6(2),l.Q6J("ngForOf",t.texts().controls))},directives:[n.sg,r._Y,r.JL,r.sg,r.CE,s.Od,s.yS,r.x0,i.s6,r.JJ,r.u],styles:["button[_ngcontent-%COMP%]{font-size:1rem}.primary-btn[_ngcontent-%COMP%]{background:#9b17db;border:2px solid #9b17db;border-radius:7px;color:#fff;padding:10px 20px;cursor:pointer}.primary-btn[_ngcontent-%COMP%]:hover{background:#fff;border-color:#000;color:#000}.edit-lesson-outer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:50px 0}.left-menu[_ngcontent-%COMP%]{display:flex;flex-direction:column;box-shadow:0 2px 8px 0 rgba(99,99,99,.2);border-radius:7px;width:23%;padding:15px;height:100%}.left-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:7px;border-bottom:1px solid #b3b3b3}.left-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:last-child{border-bottom:0;padding-bottom:0}.left-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#9b17db}.left-menu[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.25rem}.left-menu[_ngcontent-%COMP%]   .module-block[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:30px}.left-menu[_ngcontent-%COMP%]   .module-link[_ngcontent-%COMP%]{font-size:1.25rem}.lesson-body[_ngcontent-%COMP%]{width:73%}.top-btn[_ngcontent-%COMP%]{margin-bottom:30px}.steps-body[_ngcontent-%COMP%]{box-shadow:0 2px 8px 0 rgba(99,99,99,.2);border-radius:7px;padding:30px}.steps-bottom[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:30px}.text-field[_ngcontent-%COMP%]{margin-bottom:50px}.text-field[_ngcontent-%COMP%]:last-child{margin-bottom:0}"]}),e})()}];let O=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[n.ez,s.Bz.forChild(C),r.UX,i.UM]]}),e})()}}]);